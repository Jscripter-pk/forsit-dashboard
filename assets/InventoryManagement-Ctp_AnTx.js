import{f as i,x as n,j as s,_ as A,r as x,o as I,y as P,z as E,A as M,q as d,u as l,B as L,m as U,v as N,F as f,p as w,C as k,D as j,E as u,G as B,l as a}from"./index-bXrTmcAb.js";import{u as z}from"./store-B14eaoNK.js";import{n as F}from"./numeral-CBLN_Hfa.js";import{B as y,a as D,b as $}from"./BaseAlert-CgC1Ywfc.js";const q={key:0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},G={key:1,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},R={key:2,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},_={__name:"SortIcon",props:{active:Boolean,asc:Boolean},setup(m){return(o,c)=>(n(),i("span",null,[m.active&&m.asc?(n(),i("svg",q,c[0]||(c[0]=[s("path",{d:"M8 4v8M8 12l-4-4m4 4l4-4",stroke:"#181818","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):m.active&&!m.asc?(n(),i("svg",G,c[1]||(c[1]=[s("path",{d:"M8 12V4M8 4l-4 4m4-4l4 4",stroke:"#181818","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(n(),i("svg",R,c[2]||(c[2]=[s("path",{d:"M8 4v8",stroke:"#bbb","stroke-width":"2","stroke-linecap":"round"},null,-1),s("path",{d:"M4 8l4 4 4-4",stroke:"#bbb","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]))}},T={class:"inventory-container"},W={class:"inventory-controls"},H={key:0,class:"filter-dropdown-menu"},J=["value"],K={class:"filter-checkbox-label"},O={key:0,class:"inventory-table"},Q={class:"sort-icon"},X={class:"sort-icon"},Y={class:"sort-icon"},Z={class:"sort-icon"},ee={class:"name"},te={class:"desc"},se={class:"price"},oe=["src"],le={colspan:"6",class:"forecast-row"},ne={key:1,class:"inventory-list"},ie={class:"list-img-wrap"},re=["src"],ae={class:"list-info"},de={class:"list-title-row"},ce={class:"name"},ue={class:"desc"},ke={class:"price"},me={class:"list-actions"},pe={key:0,class:"forecast-row-list"},ve={__name:"InventoryManagement",setup(m){const o=z(),c=x(!1),g=x(!1);function V(){c.value=window.innerWidth<=900}function S(r){g.value=!1}I(()=>{V(),window.addEventListener("resize",V),window.addEventListener("click",S)}),P(()=>{window.removeEventListener("resize",V),window.removeEventListener("click",S)}),o.filteredProducts.forEach(r=>{typeof r._newStock>"u"&&(r._newStock=r.stock)});function C(r){o.updateStock(r,r._newStock),r._newStock=r.stock}function b(r){o.sortBy===r?o.sortAsc=!o.sortAsc:(o.sortBy=r,o.sortAsc=!0)}function h(r){return o.sortBy===r?o.sortAsc?"sorted-asc":"sorted-desc":""}function p(r,e="0,0"){return F(r).format(e)}return(r,e)=>(n(),i("div",T,[e[26]||(e[26]=s("h2",{class:"inventory-title"},"Inventory Management",-1)),s("div",W,[d(y,{modelValue:l(o).search,"onUpdate:modelValue":e[0]||(e[0]=t=>l(o).search=t),placeholder:"Search products...",class:"search-input"},null,8,["modelValue"]),s("div",{class:"filter-dropdown-wrapper",onClick:e[6]||(e[6]=L(()=>{},["stop"]))},[s("button",{class:"filter-dropdown-btn",onClick:e[1]||(e[1]=t=>g.value=!g.value)},e[11]||(e[11]=[s("svg",{class:"filter-icon",width:"20",height:"20",viewBox:"0 0 20 20",fill:"none"},[s("path",{d:"M3 5h14M6 10h8M9 15h2",stroke:"#fff","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),s("span",null,"Filters",-1)])),g.value?(n(),i("div",H,[e[14]||(e[14]=s("label",{class:"filter-label"},"Category",-1)),U(s("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>l(o).selectedCategory=t),class:"category-select"},[e[12]||(e[12]=s("option",{value:""},"All Categories",-1)),(n(!0),i(f,null,w(l(o).categories,t=>(n(),i("option",{key:t,value:t},a(t),9,J))),128))],512),[[N,l(o).selectedCategory]]),e[15]||(e[15]=s("label",{class:"filter-label"},"Min price",-1)),d(y,{modelValue:l(o).filterMinPrice,"onUpdate:modelValue":e[3]||(e[3]=t=>l(o).filterMinPrice=t),type:"number",min:"0",placeholder:"Min price",class:"price-input"},null,8,["modelValue"]),e[16]||(e[16]=s("label",{class:"filter-label"},"Max price",-1)),d(y,{modelValue:l(o).filterMaxPrice,"onUpdate:modelValue":e[4]||(e[4]=t=>l(o).filterMaxPrice=t),type:"number",min:"0",placeholder:"Max price",class:"price-input"},null,8,["modelValue"]),s("label",K,[U(s("input",{type:"checkbox","onUpdate:modelValue":e[5]||(e[5]=t=>l(o).filterInStock=t)},null,512),[[j,l(o).filterInStock]]),e[13]||(e[13]=k(" In stock "))])])):M("",!0)])]),c.value?(n(),i("div",ne,[(n(!0),i(f,null,w(l(o).filteredProducts,t=>(n(),i("div",{key:t.id,class:u(["inventory-list-item",{"low-stock":t.stock<5}])},[s("div",ie,[s("img",{src:t.image,alt:"",class:"product-img-list"},null,8,re)]),s("div",ae,[s("div",de,[s("span",ce,a(t.name),1),s("span",{class:u(["stock",t.stock<5?"stock-low":"stock-ok"])},a(p(t.stock)),3)]),s("div",ue,a(t.description),1),s("div",ke,"$"+a(p(t.price)),1),s("div",me,[d(y,{modelValue:t._newStock,"onUpdate:modelValue":v=>t._newStock=v,placeholder:t.stock,min:"0",type:"number",class:"stock-input-list"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),d($,{class:"update-btn-list",onClick:v=>C(t)},{default:B(()=>e[24]||(e[24]=[k(" Update ")])),_:2,__:[24]},1032,["onClick"])]),l(o).forecast(t)?(n(),i("div",pe,a(l(o).forecast(t)),1)):M("",!0)])],2))),128))])):(n(),i("table",O,[s("thead",null,[s("tr",null,[s("th",{onClick:e[7]||(e[7]=t=>b("name")),class:u(h("name"))},[e[17]||(e[17]=k(" Name ")),s("span",Q,[d(_,{active:l(o).sortBy==="name",asc:l(o).sortAsc},null,8,["active","asc"])])],2),s("th",{onClick:e[8]||(e[8]=t=>b("description")),class:u(h("description"))},[e[18]||(e[18]=k(" Description ")),s("span",X,[d(_,{active:l(o).sortBy==="description",asc:l(o).sortAsc},null,8,["active","asc"])])],2),s("th",{onClick:e[9]||(e[9]=t=>b("price")),class:u(h("price"))},[e[19]||(e[19]=k(" Price ")),s("span",Y,[d(_,{active:l(o).sortBy==="price",asc:l(o).sortAsc},null,8,["active","asc"])])],2),s("th",{onClick:e[10]||(e[10]=t=>b("stock")),class:u(h("stock"))},[e[20]||(e[20]=k(" Stock ")),s("span",Z,[d(_,{active:l(o).sortBy==="stock",asc:l(o).sortAsc},null,8,["active","asc"])])],2),e[21]||(e[21]=s("th",null,"Image",-1)),e[22]||(e[22]=s("th",null,"Update",-1))])]),s("tbody",null,[(n(!0),i(f,null,w(l(o).filteredProducts,t=>(n(),i("tr",{key:t.id,class:u({"low-stock":t.stock<5})},[s("td",null,[s("span",ee,a(t.name),1)]),s("td",null,[s("span",te,a(t.description),1)]),s("td",null,[s("span",se,"$"+a(p(t.price)),1)]),s("td",null,[s("span",{class:u(["stock",t.stock<5?"stock-low":"stock-ok"])},a(p(t.stock)),3)]),s("td",null,[s("img",{src:t.image,alt:"",width:"40",class:"product-img"},null,8,oe)]),s("td",null,[d(y,{modelValue:t._newStock,"onUpdate:modelValue":v=>t._newStock=v,placeholder:t.stock,min:"0",type:"number",class:"stock-input"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),d($,{class:"update-btn",onClick:v=>C(t)},{default:B(()=>e[23]||(e[23]=[k(" Update ")])),_:2,__:[23]},1032,["onClick"])])],2))),128)),l(o).forecast(r.product)?(n(!0),i(f,{key:0},w(l(o).filteredProducts,t=>(n(),i("tr",{key:"forecast-"+t.id},[s("td",le,a(l(o).forecast(t)),1)]))),128)):M("",!0)])])),l(o).lowStockProducts.length?(n(),E(D,{key:2,type:"warning"},{default:B(()=>[e[25]||(e[25]=s("strong",null,"Low Inventory Alert: ",-1)),(n(!0),i(f,null,w(l(o).lowStockProducts,t=>(n(),i("span",{key:t.id},a(t.name)+" ("+a(p(t.stock))+") ",1))),128))]),_:1,__:[25]})):M("",!0)]))}},be=A(ve,[["__scopeId","data-v-7a264c68"]]);export{be as default};
