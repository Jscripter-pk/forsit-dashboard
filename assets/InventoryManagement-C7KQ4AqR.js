import{u as M}from"./store-CLT9tH5G.js";import{n as $}from"./numeral-CBLN_Hfa.js";import{f as a,x as i,j as s,_ as A,r as x,o as U,y as I,z as P,A as B,q as d,u as n,B as u,C as k,F as w,p as y,D as S,l as r}from"./index-B4ZK9ph3.js";import{B as b,a as N,b as C}from"./BaseAlert-DQK9cuG0.js";const z={key:0,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},j={key:1,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},E={key:2,width:"16",height:"16",viewBox:"0 0 16 16",fill:"none"},h={__name:"SortIcon",props:{active:Boolean,asc:Boolean},setup(m){return(o,c)=>(i(),a("span",null,[m.active&&m.asc?(i(),a("svg",z,c[0]||(c[0]=[s("path",{d:"M8 4v8M8 12l-4-4m4 4l4-4",stroke:"#181818","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):m.active&&!m.asc?(i(),a("svg",j,c[1]||(c[1]=[s("path",{d:"M8 12V4M8 4l-4 4m4-4l4 4",stroke:"#181818","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)]))):(i(),a("svg",E,c[2]||(c[2]=[s("path",{d:"M8 4v8",stroke:"#bbb","stroke-width":"2","stroke-linecap":"round"},null,-1),s("path",{d:"M4 8l4 4 4-4",stroke:"#bbb","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},null,-1)])))]))}},L={class:"inventory-container"},D={class:"inventory-controls"},F={key:0,class:"inventory-table"},q={class:"sort-icon"},R={class:"sort-icon"},T={class:"sort-icon"},W={class:"sort-icon"},G={class:"name"},H={class:"desc"},J={class:"price"},K=["src"],O={colspan:"6",class:"forecast-row"},Q={key:1,class:"inventory-list"},X={class:"list-img-wrap"},Y=["src"],Z={class:"list-info"},ss={class:"list-title-row"},ts={class:"name"},es={class:"desc"},os={class:"price"},ns={class:"list-actions"},ls={key:0,class:"forecast-row-list"},is={__name:"InventoryManagement",setup(m){const o=M(),c=x(!1);function g(){c.value=window.innerWidth<=900}U(()=>{g(),window.addEventListener("resize",g)}),I(()=>{window.removeEventListener("resize",g)}),o.filteredProducts.forEach(l=>{typeof l._newStock>"u"&&(l._newStock=l.stock)});function V(l){o.updateStock(l,l._newStock),l._newStock=l.stock}function _(l){o.sortBy===l?o.sortAsc=!o.sortAsc:(o.sortBy=l,o.sortAsc=!0)}function p(l){return o.sortBy===l?o.sortAsc?"sorted-asc":"sorted-desc":""}function v(l,e="0,0"){return $(l).format(e)}return(l,e)=>(i(),a("div",L,[e[14]||(e[14]=s("h2",{class:"inventory-title"},"Inventory Management",-1)),s("div",D,[d(b,{modelValue:n(o).search,"onUpdate:modelValue":e[0]||(e[0]=t=>n(o).search=t),placeholder:"Search products...",class:"search-input"},null,8,["modelValue"])]),c.value?(i(),a("div",Q,[(i(!0),a(w,null,y(n(o).filteredProducts,t=>(i(),a("div",{key:t.id,class:u(["inventory-list-item",{"low-stock":t.stock<5}])},[s("div",X,[s("img",{src:t.image,alt:"",class:"product-img-list"},null,8,Y)]),s("div",Z,[s("div",ss,[s("span",ts,r(t.name),1),s("span",{class:u(["stock",t.stock<5?"stock-low":"stock-ok"])},r(v(t.stock)),3)]),s("div",es,r(t.description),1),s("div",os,"$"+r(v(t.price)),1),s("div",ns,[d(b,{modelValue:t._newStock,"onUpdate:modelValue":f=>t._newStock=f,placeholder:t.stock,min:"0",type:"number",class:"stock-input-list"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),d(C,{class:"update-btn-list",onClick:f=>V(t)},{default:S(()=>e[12]||(e[12]=[k(" Update ")])),_:2,__:[12]},1032,["onClick"])]),n(o).forecast(t)?(i(),a("div",ls,r(n(o).forecast(t)),1)):B("",!0)])],2))),128))])):(i(),a("table",F,[s("thead",null,[s("tr",null,[s("th",{onClick:e[1]||(e[1]=t=>_("name")),class:u(p("name"))},[e[5]||(e[5]=k(" Name ")),s("span",q,[d(h,{active:n(o).sortBy==="name",asc:n(o).sortAsc},null,8,["active","asc"])])],2),s("th",{onClick:e[2]||(e[2]=t=>_("description")),class:u(p("description"))},[e[6]||(e[6]=k(" Description ")),s("span",R,[d(h,{active:n(o).sortBy==="description",asc:n(o).sortAsc},null,8,["active","asc"])])],2),s("th",{onClick:e[3]||(e[3]=t=>_("price")),class:u(p("price"))},[e[7]||(e[7]=k(" Price ")),s("span",T,[d(h,{active:n(o).sortBy==="price",asc:n(o).sortAsc},null,8,["active","asc"])])],2),s("th",{onClick:e[4]||(e[4]=t=>_("stock")),class:u(p("stock"))},[e[8]||(e[8]=k(" Stock ")),s("span",W,[d(h,{active:n(o).sortBy==="stock",asc:n(o).sortAsc},null,8,["active","asc"])])],2),e[9]||(e[9]=s("th",null,"Image",-1)),e[10]||(e[10]=s("th",null,"Update",-1))])]),s("tbody",null,[(i(!0),a(w,null,y(n(o).filteredProducts,t=>(i(),a("tr",{key:t.id,class:u({"low-stock":t.stock<5})},[s("td",null,[s("span",G,r(t.name),1)]),s("td",null,[s("span",H,r(t.description),1)]),s("td",null,[s("span",J,"$"+r(v(t.price)),1)]),s("td",null,[s("span",{class:u(["stock",t.stock<5?"stock-low":"stock-ok"])},r(v(t.stock)),3)]),s("td",null,[s("img",{src:t.image,alt:"",width:"40",class:"product-img"},null,8,K)]),s("td",null,[d(b,{modelValue:t._newStock,"onUpdate:modelValue":f=>t._newStock=f,placeholder:t.stock,min:"0",type:"number",class:"stock-input"},null,8,["modelValue","onUpdate:modelValue","placeholder"]),d(C,{class:"update-btn",onClick:f=>V(t)},{default:S(()=>e[11]||(e[11]=[k(" Update ")])),_:2,__:[11]},1032,["onClick"])])],2))),128)),n(o).forecast(l.product)?(i(!0),a(w,{key:0},y(n(o).filteredProducts,t=>(i(),a("tr",{key:"forecast-"+t.id},[s("td",O,r(n(o).forecast(t)),1)]))),128)):B("",!0)])])),n(o).lowStockProducts.length?(i(),P(N,{key:2,type:"warning"},{default:S(()=>[e[13]||(e[13]=s("strong",null,"Low Inventory Alert: ",-1)),(i(!0),a(w,null,y(n(o).lowStockProducts,t=>(i(),a("span",{key:t.id},r(t.name)+" ("+r(v(t.stock))+") ",1))),128))]),_:1,__:[13]})):B("",!0)]))}},us=A(is,[["__scopeId","data-v-1858b0fb"]]);export{us as default};
